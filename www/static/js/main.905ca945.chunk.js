(this.webpackJsonpmeteo_cordova=this.webpackJsonpmeteo_cordova||[]).push([[0],{144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),i=a.n(r),o=a(20),s=a(102),l=a(14),d=a(12),j=a.p+"static/media/sunrise.213f9a41.svg",u=a.p+"static/media/sunset.4e6a9fde.svg",h=a.p+"static/media/addFavoris.f8de480d.svg",b=a.p+"static/media/deleteFavoris.3ce917cb.svg",m=a(101),O=a(204),x=a(205),p=a(206),f=a(207),v=a(208),g=a(201),y=a(193),w=a(197),N=a(209),E=a(199),S=a(210),T=a(211),D=a(85),A=a.n(D),_=Object(m.a)({palette:{type:"light",primary:{main:"#26292B"},secondary:{main:"#f50057"},error:{main:"#d50000"}}}),C=a(52),W=a(99),k=a(100),M=a(21),R="GET_WEATHER_DATA",L="GET_WEATHERSWEEK_DATA",B="GET_COUNTRY_DATA",F="POST_COUNTRY_DATA",I="GET_IMAGES_DATA",G="GET_APIMETEO_ALL_DATA",z={data:{},dataWeek:{},dataAll:{}};var P={dataCountry:{}};var U={data:[]};var K=Object(C.combineReducers)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case R:return Object(M.a)(Object(M.a)({},e),{},{data:t.payload});case L:return Object(M.a)(Object(M.a)({},e),{},{dataWeek:t.payload});case G:return Object(M.a)(Object(M.a)({},e),{},{dataAll:t.payload})}},favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case B:return Object(M.a)(Object(M.a)({},e),{},{dataCountry:t.payload});case F:return Object(M.a)({},e)}},images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return t.type===I?Object(M.a)(Object(M.a)({},e),{},{data:t.payload}):e}}),q=Object(C.createStore)(K,Object(W.composeWithDevTools)(Object(C.applyMiddleware)(k.a))),H=a(32),J=a.n(H),V=a(1),Y=function(){var e=Object(o.b)((function(e){return e.weather.data})),t=Object(o.b)((function(e){return e.favorite.dataCountry})),a=Object(n.useState)(""),c=Object(d.a)(a,2),r=c[0],i=c[1];function s(a){if(t.some((function(t){return t.name===e.name})))i(h);else{i(b);var n={name:e.name};q.dispatch(function(e){return function(t){return J.a.post("http://localhost:3003/favorite",e).catch((function(e){return console.log(e)}))}}(n))}}return Object(n.useEffect)((function(){q.dispatch((function(e){return J.a.get("http://localhost:3003/favorite").then((function(t){e({type:B,payload:t.data})})).catch((function(e){return console.log(e)}))})),e.name&&function(e){if(t.length>0){var a=t.some((function(t){return t.name===e}));i(a?b:h)}}(e.name)}),[e]),Object(V.jsx)(O.a,{className:"meteoDay",children:e.weather&&Object(V.jsx)(O.a,{className:"CountryIndice",children:Object(V.jsxs)(O.a,{sx:{maxWidth:345},children:[Object(V.jsx)(f.a,{className:"bg-dark text-white",id:e.weather[0].main}),Object(V.jsx)(x.a,{children:Object(V.jsx)(g.a,{size:"small",variant:"contained",id:"favoriteButton",value:e.name,onClick:function(e){return s()},children:Object(V.jsx)("img",{src:r,alt:"Favoris"})})}),Object(V.jsxs)(p.a,{children:[Object(V.jsx)(v.a,{gutterBottom:!0,className:"ville",variant:"h5",component:"div",children:e.name}),Object(V.jsxs)(v.a,{gutterBottom:!0,className:"temperature",variant:"h5",component:"div",children:[Math.round(e.main.temp),"\xb0"]}),Object(V.jsx)(v.a,{className:"weatherDescr",children:e.weather[0].description}),Object(V.jsxs)(p.a,{className:"sunriseSunset",children:[Object(V.jsxs)(p.a,{className:"sunriseCard",children:[Object(V.jsx)(f.a,{component:"img",height:"35",src:j,className:"imageSun",alt:"Couch\xe9 de soleil"}),Object(V.jsx)(v.a,{className:"weatherDescrSun",variant:"body2",color:"text.secondary",children:new Date(1e3*e.sys.sunrise).toLocaleString().slice(12,17)})]}),Object(V.jsxs)(p.a,{className:"sunsetCard",children:[Object(V.jsx)(f.a,{component:"img",height:"35",src:u,className:"imageSun",alt:"Couch\xe9 de soleil"}),Object(V.jsx)(v.a,{className:"weatherDescrSun",variant:"body2",color:"text.secondary",children:new Date(1e3*e.sys.sunset).toLocaleString().slice(12,17)})]})]})]})]})})})},Z=function(e){var t=e.time;return Object(V.jsx)("div",{className:"cardDiv",children:Object(V.jsxs)(O.a,{sx:{maxWidth:345},children:[Object(V.jsxs)(v.a,{variant:"body2",color:"text.secondary",children:[Math.round(t.main.temp),"\xb0"]}),Object(V.jsx)(f.a,{className:t.weather[0].main}),Object(V.jsxs)(p.a,{children:[Object(V.jsxs)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:[t.dt_txt.slice(8,10),"/",t.dt_txt.slice(5,7)]}),Object(V.jsx)(v.a,{variant:"body2",color:"text.secondary",children:t.dt_txt.slice(11,16)})]})]})})},$=function(){var e=Object(o.b)((function(e){return e.weather.dataWeek}));return e.length=6,Object(V.jsx)("div",{className:"meteoWeek",children:e[0]&&Object(V.jsx)(p.a,{className:"meteoWeekUl",children:e.map((function(e){return Object(V.jsx)(Z,{time:e},e.dt)}))})})},Q=a(57),X=a.n(Q),ee=function(){return Object(V.jsx)("div",{children:Object(V.jsx)(y.a,{direction:"row",spacing:2,children:Object(V.jsx)(g.a,{href:"/articles#/article",variant:"contained",color:"warning",children:"ARTICLE"})})})},te=function(e){return function(t){return J.a.get("http://api.openweathermap.org/data/2.5/weather?",{params:{q:e,units:"metric",lang:"fr",appid:"32ee58ebca536764e3cda83854a4fe6e"}}).then((function(e){t({type:R,payload:e.data})})).catch((function(e){return console.log(e)}))}},ae=function(e){return function(t){return J.a.get("https://api.openweathermap.org/data/2.5/forecast/?",{params:{q:e,units:"metric",lang:"fr",appid:"32ee58ebca536764e3cda83854a4fe6e"}}).then((function(e){t({type:L,payload:e.data.list})})).catch((function(e){return console.log(e)}))}},ne=function(e){return Object(V.jsx)("div",{className:"InputTown",children:Object(V.jsxs)(N.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(V.jsx)(w.a,{id:"ville",label:"Ville",variant:"outlined"}),Object(V.jsx)(y.a,{spacing:2,direction:"row",children:Object(V.jsx)(g.a,{onClick:function(e){return function(){var e=document.getElementById("ville").value;e.length>0&&(q.dispatch(te(e)),q.dispatch(ae(e)))}()},variant:"contained",children:"OK"})})]})})},ce=function(){return Object(V.jsx)("div",{className:"navbar",id:"navBarSelectionTown",children:Object(V.jsxs)(E.a,{children:[Object(V.jsx)(S.a,{expandIcon:Object(V.jsx)(X.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header"}),Object(V.jsxs)(T.a,{children:[Object(V.jsx)(ne,{}),Object(V.jsx)(ee,{})]})]})})},re=function(e){var t=parseFloat(e);return t>348.75||t<=11.25?"N":["NNE","NE","ENE","E","ESE","SE","SSE","S","SSO","SO","OSO","O","ONO","NO","NNO"][Math.floor((t-11.25)/22.5+1)-1]},ie=function(e){var t=new Date(1e3*e);return new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}).split(",")[1]},oe=a(96),se=function(e){return Object(V.jsx)("div",{className:"cardDiv",children:Object(V.jsxs)(O.a,{sx:{maxWidth:345},children:[Object(V.jsx)(f.a,{className:e.daily.weather[0].main}),Object(V.jsxs)(p.a,{children:[Object(V.jsx)(v.a,{sx:{color:"white"},component:"p",children:oe.dateFormatMeteo(e.daily.dt)}),Object(V.jsx)(v.a,{sx:{color:"white"},component:"p",children:e.daily.weather[0].description}),Object(V.jsxs)(v.a,{sx:{color:"white"},variant:"p",color:"text.secondary",component:"div",children:[Math.round(e.daily.temp.day)," \xb0C"]}),Object(V.jsxs)(v.a,{sx:{color:"white"},component:"p",children:[Math.round(e.daily.wind_speed)," Km/h"]}),Object(V.jsxs)(v.a,{sx:{color:"white",display:"flex",alignSelf:"center"},component:"p",children:[re(e.daily.wind_deg),Object(V.jsx)(A.a,{sx:{ml:1,color:"white",transform:"rotateZ(".concat(e.daily.wind_deg,"deg)")}})]})]})]})})},le=function(){var e=Object(o.b)((function(e){return e.weather.data})),t=Object(o.b)((function(e){return e.weather.dataAll}));return Object(n.useEffect)((function(){var t,a;e.weather&&q.dispatch((t=e.coord.lat,a=e.coord.lon,function(e){return J.a.get("https://api.openweathermap.org/data/2.5/onecall?",{params:{lat:t,lon:a,units:"metric",lang:"fr",appid:"32ee58ebca536764e3cda83854a4fe6e"}}).then((function(t){e({type:G,payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[e]),Object(V.jsx)("div",{className:"meteoWeek",children:e.weather&&t.daily&&Object(V.jsx)(p.a,{className:"meteoWeekUl",children:t.daily.map((function(e,t){return Object(V.jsx)(se,{daily:e},t)}))})})},de=function(e){return Object(V.jsx)("div",{className:"cardDiv",children:Object(V.jsx)(O.a,{sx:{width:100,backgroundColor:"transparent"},children:Object(V.jsxs)(p.a,{children:[Object(V.jsx)(v.a,{component:"p",sx:{color:"white"},children:ie(e.minutely.dt)}),Object(V.jsxs)(v.a,{component:"p",sx:{color:"white"},children:[e.minutely.precipitation," %"]})]})})})};var je=function(){var e=Object(o.b)((function(e){return e.weather.data})),t=Object(o.b)((function(e){return e.weather.dataAll})),a=[];if(t.minutely)for(var n=0;n<t.minutely.length;)a.push(t.minutely[n]),n+=10;return Object(V.jsxs)("div",{className:"meteoWeek",children:[Object(V.jsx)("h1",{className:"cardDiv",children:"Pluviom\xe9trie"}),e.weather&&t.minutely&&Object(V.jsx)(p.a,{children:a.map((function(e,t){return Object(V.jsx)(de,{minutely:e},t)}))})]})},ue=a(36),he=a.n(ue),be=a(195),me=a(212);function Oe(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);t.current=he.a.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; meteo fr"});var a={center:[48,2.3],zoom:5,zoomControl:!1,maxBounds:he.a.latLngBounds(he.a.latLng(-150,-240),he.a.latLng(150,240)),closePopupOnClick:!1,layers:[t.current]};return Object(n.useEffect)((function(){e.current=he.a.map("map",a)}),[]),Object(n.useEffect)((function(){he.a.control.layers({OpenStreetMap:t.current}).addTo(e.current),he.a.control.zoom({position:"topright"}).addTo(e.current)}),[]),Object(n.useEffect)((function(){e.current.on("zoomstart",(function(){console.log("ZOOM STARTED")}))}),[]),Object(V.jsxs)(c.a.Fragment,{children:[Object(V.jsx)(be.a,{}),Object(V.jsx)(me.a,{className:"containerMap",maxWidth:"sm",children:Object(V.jsx)(N.a,{id:"map",style:{overflow:"hidden",width:"100%",height:"500px"}})})]})}var xe=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("nightApp"),o=Object(d.a)(i,2),s=o[0],l=o[1],j=new Date(Date.now()).toString().slice(16,18);return a&&6<j&&j<19&&(l("dayApp"),r(!1)),Object(V.jsxs)("div",{className:s,children:[Object(V.jsxs)(c.a.Fragment,{children:[Object(V.jsx)(be.a,{}),Object(V.jsxs)(me.a,{className:"containerTop",maxWidth:"xl",children:[Object(V.jsx)(Y,{}),Object(V.jsx)(Oe,{})]})]}),Object(V.jsx)($,{}),Object(V.jsx)(le,{}),Object(V.jsx)(je,{}),Object(V.jsx)(ce,{})]})},pe=function(e){return Object(V.jsx)("div",{children:Object(V.jsxs)(O.a,{children:[Object(V.jsx)(f.a,{component:"img",height:"230",image:e.data.url}),Object(V.jsxs)(p.a,{children:[Object(V.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"",color:"black",children:e.data.id}),Object(V.jsx)(v.a,{variant:"body2",children:Object(V.jsx)("p",{children:e.data.content})})]}),Object(V.jsx)(x.a,{})]})})},fe=a(203),ve=function(){return Object(V.jsx)("div",{children:Object(V.jsx)(y.a,{sx:{display:"flex",justifyContent:"center"},direction:"row",spacing:2,children:Object(V.jsx)(g.a,{href:"/",variant:"contained",color:"warning",children:"RETOUR"})})})},ge=function(){var e=Object(o.b)((function(e){return e.images.data}));return Object(n.useEffect)((function(){q.dispatch((function(e){return J.a.get("http://localhost:3003/images").then((function(t){console.log("res data",t.data),e({type:I,payload:t.data})})).catch((function(e){return console.log(e)}))}))}),[]),Object(V.jsxs)("div",{className:"article",children:[Object(V.jsx)("h1",{children:"Cats"}),Object(V.jsx)(ve,{}),Object(V.jsx)("div",{className:"card",children:[0].map((function(t){return Object(V.jsx)(fe.a,{children:Object(V.jsx)(N.a,{sx:{width:1},display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:4,children:e.length>0&&e.map((function(e){return Object(V.jsx)(pe,{data:e},e.id)}))})},t)}))})]})},ye=function(){return Object(V.jsx)("div",{className:"not",children:Object(V.jsx)("h1",{children:"Il n'y a rien ici !!"})})},we=function(){return Object(V.jsx)(s.a,{children:Object(V.jsxs)(l.c,{children:[Object(V.jsx)(l.a,{path:"/",exact:!0,element:Object(V.jsx)(xe,{})}),Object(V.jsx)(l.a,{path:"/article",exact:!0,element:Object(V.jsx)(ge,{})}),Object(V.jsx)(l.a,{element:ye})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=a(196),Ee=a(202);a(144);q.dispatch(te("Paris")),q.dispatch(ae("Paris"));var Se=function(){i.a.render(Object(V.jsx)(o.a,{store:q,children:Object(V.jsx)(Ne.a,{injectFirst:!0,children:Object(V.jsx)(Ee.a,{theme:_,children:Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(we,{})})})})}),document.getElementById("root"))};window.cordova?document.addEventListener("deviceready",(function(){Se()}),!1):Se(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},96:function(e,t){e.exports={dateFormatMeteo:function(e){var t=new Date(1e3*e),a=new Date(t).toLocaleDateString("fr-FR",{weekday:"long"}),n=new Date(t).toLocaleDateString("fr-FR",{day:"numeric"});return a.substr(0,3)+". "+n}}}},[[145,1,2]]]);
//# sourceMappingURL=main.905ca945.chunk.js.map