{"ast":null,"code":"import axios from \"axios\";\n/*\n * Import types { ... }\n * ******************** */\n\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, DELETE_USER, DEL_FLASH_USER, EDIT_POST, EDIT_USER, GET_USERS } from \"./ActionTypes\";\nexport const getUser = () => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\").then(res => {\n      // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n      //dispatch veut dire va dans les reducers via index.js de reducers \n      // console.log(\"data.users getUser Action \",res.data.users)\n      dispatch({\n        type: GET_USERS,\n        payload: res.data.users\n      }); // console.log(\"Action User \" ,res.data.users)\n      // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUserLike = data => {\n  // console.log(\"addUserLike action form \",data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      // console.log(\"addUserLike \",res.data)\n      dispatch({\n        type: ADD_USER_LIKE,\n        payload: res.data.users\n      }); // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUser = data => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios.post(\"http://localhost:3003/api/users\", data).then(res => {\n      //    console.log(\"Res Add User \", res.data);\n      // console.log(\"Res message addUser \", res.data);\n      dispatch({\n        type: ADD_USER,\n        payload: res.data\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const editUsers = data => {\n  // console.log(\"Edit user\", data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      // console.log(\"Res message editUser \", res.data.message);\n      console.log(\"Res type editUser \", res.data.type); // console.log(\"userEdit Action res.data.posts \", res.data.posts)\n      // console.log(\"userEdit Action res.data.users\", res.data.users)\n      // console.log(\"userEdit Action res.data.usersId[0] \", res.data.usersId[0])\n\n      if (res.data.type === \"error\") {\n        dispatch({\n          type: EDIT_USER,\n          payload: res.data\n        });\n        dispatch({\n          type: EDIT_POST,\n          payload: res.data.posts\n        });\n        dispatch({\n          type: CHOICE_USER,\n          payload: res.data.usersId[0]\n        });\n      } else {\n        dispatch({\n          type: EDIT_USER,\n          payload: res.data\n        });\n      } // si ne fonctionne pas alors console err\n\n    }).catch(err => console.log(err));\n  };\n};\nexport const choiceUser = data => {\n  // console.log(\"choiceUser\", data)\n  return dispatch => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data\n    });\n  };\n};\nexport const deleteUser = userId => {\n  return dispatch => {\n    return axios({\n      method: \"delete\",\n      url: `http://localhost:3003/api/users/${userId}`\n    }).then(res => {\n      console.log('res delete user', res.data);\n      dispatch({\n        type: DELETE_USER,\n        payload: res.data\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const deleteFlashsUser = () => {\n  // console.log(\"choiceUser\", data)\n  return dispatch => {\n    dispatch({\n      type: DEL_FLASH_USER,\n      payload: \"\"\n    });\n  };\n};","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/store/actions/UserAction.js"],"names":["axios","ADD_USER","ADD_USER_LIKE","CHOICE_USER","DELETE_USER","DEL_FLASH_USER","EDIT_POST","EDIT_USER","GET_USERS","getUser","dispatch","get","then","res","type","payload","data","users","catch","err","console","log","addUserLike","method","url","id","addUser","post","editUsers","posts","usersId","choiceUser","deleteUser","userId","deleteFlashsUser"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n/*\n * Import types { ... }\n * ******************** */\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, DELETE_USER, DEL_FLASH_USER, EDIT_POST, EDIT_USER, GET_USERS } from \"./ActionTypes\";\n\n\nexport const getUser = () => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\")\n      .then((res) => {\n        // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n        //dispatch veut dire va dans les reducers via index.js de reducers \n        // console.log(\"data.users getUser Action \",res.data.users)\n        dispatch({\n          type: GET_USERS,\n          payload: res.data.users,\n        })\n        // console.log(\"Action User \" ,res.data.users)\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n}\nexport const addUserLike = (data) => {\n  // console.log(\"addUserLike action form \",data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data }\n    })\n      .then((res) => {\n        // console.log(\"addUserLike \",res.data)\n        dispatch({\n          type: ADD_USER_LIKE,\n          payload: res.data.users\n        })\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n\n}\nexport const addUser = (data) => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios\n      .post(\"http://localhost:3003/api/users\", data)\n      .then((res) => {\n        //    console.log(\"Res Add User \", res.data);\n        // console.log(\"Res message addUser \", res.data);\n        dispatch({\n          type: ADD_USER,\n          payload: res.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n};\nexport const editUsers = (data) => {\n  // console.log(\"Edit user\", data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data },\n    })\n      .then((res) => {\n        // console.log(\"Res message editUser \", res.data.message);\n        console.log(\"Res type editUser \", res.data.type);\n        // console.log(\"userEdit Action res.data.posts \", res.data.posts)\n        // console.log(\"userEdit Action res.data.users\", res.data.users)\n        // console.log(\"userEdit Action res.data.usersId[0] \", res.data.usersId[0])\n\n        if (res.data.type === \"error\") {\n          dispatch({\n            type: EDIT_USER,\n            payload: res.data,\n          })\n          dispatch({\n            type: EDIT_POST,\n            payload: res.data.posts,\n          });\n          dispatch({\n            type: CHOICE_USER,\n            payload: res.data.usersId[0],\n          });\n        } else {\n          dispatch({\n            type: EDIT_USER,\n            payload: res.data,\n          })\n        }\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err));\n  };\n};\nexport const choiceUser = (data) => {\n  // console.log(\"choiceUser\", data)\n  return (dispatch) => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data,\n    });\n  }\n};\nexport const deleteUser = (userId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"delete\",\n      url: `http://localhost:3003/api/users/${userId}`,\n    })\n      .then((res) => {\n        console.log('res delete user', res.data)\n        dispatch({\n          type: DELETE_USER,\n          payload: res.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n};\nexport const deleteFlashsUser = () => {\n  // console.log(\"choiceUser\", data)\n  return (dispatch) => {\n    dispatch({\n      type: DEL_FLASH_USER,\n      payload: \"\",\n    });\n  }\n};\n\n"]},"metadata":{},"sourceType":"module"}