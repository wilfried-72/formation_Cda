{"ast":null,"code":"var _jsxFileName = \"/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Like = props => {\n  _s();\n\n  // console.log(\"props \" ,props)\n  const {\n    post\n  } = props;\n  console.log(\"post Component Like \", post); // console.log(\"userChoiceLike \", userChoice)\n  // console.log(post);\n\n  const user = useSelector(state => state.userReducer.users); // console.log(\"user in like component\", user)\n\n  const userChoice = useSelector(state => state.userReducer.choiceUser);\n\n  const handleLike = () => {\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id\n    };\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }; // console.log(\"userData \", userData )\n      // console.log(\"author correspond\");\n\n      store.dispatch(addUserLike(userData));\n    } else {\n      const userDataNone = {\n        ages: user.find(userFind => userFind.pseudo === post.author).ages,\n        pseudo: user.find(userFind => userFind.pseudo === post.author).pseudo,\n        likes: ++user.find(userFind => userFind.pseudo === post.author).likes,\n        id: user.find(userFind => userFind.pseudo === post.author)._id\n      }; // console.log(\"userDataNone \", userDataNone )\n      // console.log(\"author ne correspond pas\");\n\n      store.dispatch(addUserLike(userDataNone));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleLike,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./icons/clap.png\",\n      className: \"clap\",\n      alt: \"clap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: post.likes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Like, \"VtSowQnUv0IfxbSSU/HU04xyWu8=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Like;\nexport default Like;\n\nvar _c;\n\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js"],"names":["React","useSelector","addLike","addUserLike","store","Like","props","post","console","log","user","state","userReducer","users","userChoice","choiceUser","handleLike","postData","title","author","content","likes","id","_id","dispatch","pseudo","userData","ages","userDataNone","find","userFind"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\"\n\nconst Like = (props) => {\n  // console.log(\"props \" ,props)\n  const { post } = props;\n  console.log( \"post Component Like \" ,post);\n\n  // console.log(\"userChoiceLike \", userChoice)\n  // console.log(post);\n\n  const user = useSelector((state) => state.userReducer.users);\n  // console.log(\"user in like component\", user)\n  const userChoice = useSelector((state) => state.userReducer.choiceUser);\n \n  const handleLike = () => {\n\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id,\n    };\n    \n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }\n      // console.log(\"userData \", userData )\n      // console.log(\"author correspond\");\n      store.dispatch(addUserLike(userData));\n\n    }\n    else {\n\n      const userDataNone = {\n        ages: user.find((userFind) => userFind.pseudo === post.author).ages,\n        pseudo: user.find((userFind) => userFind.pseudo === post.author).pseudo,\n        likes: ++user.find((userFind) => userFind.pseudo === post.author).likes,\n        id: user.find((userFind) => userFind.pseudo === post.author)._id,\n      };\n\n      // console.log(\"userDataNone \", userDataNone )\n      // console.log(\"author ne correspond pas\");\n      store.dispatch(addUserLike(userDataNone));\n    }\n\n  }\n\nreturn (\n  <div onClick={handleLike}>\n    <img src=\"./icons/clap.png\" className=\"clap\" alt=\"clap\" />\n    <span>{post.likes}</span>\n  </div>\n);\n};\n\nexport default Like;\n"]},"metadata":{},"sourceType":"module"}