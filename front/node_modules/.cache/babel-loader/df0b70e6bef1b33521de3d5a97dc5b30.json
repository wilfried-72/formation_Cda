{"ast":null,"code":"var _jsxFileName = \"/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Like = props => {\n  _s();\n\n  // console.log(\"props \" ,props)\n  const {\n    post\n  } = props; // console.log( \"post Component Like \" ,post);\n\n  const users = useSelector(state => state.userReducer.users); // console.log(\"user in like component\", users)\n\n  const userChoice = useSelector(state => state.userReducer.choiceUser); // console.log(\"userChoiceLike \", userChoice)\n\n  const handleLike = () => {\n    const postData = {\n      // title: post.title,\n      // author: post.author,\n      // content: post.content,\n      likes: ++post.likes,\n      id: post._id\n    };\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userAddLIkes = {\n        // ages: userChoice.ages,\n        // pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }; // console.log(\"userData \", userData )\n      // console.log(\"author correspond\");\n\n      store.dispatch(addUserLike(userAddLIkes));\n    } else {\n      const userAddLIkesWithoutSelect = {\n        // ages: users.find((userFind) => userFind.pseudo === post.author).ages,\n        // pseudo: users.find((userFind) => userFind.pseudo === post.author).pseudo,\n        likes: ++users.find(userFind => userFind.pseudo === post.author).likes,\n        id: users.find(userFind => userFind.pseudo === post.author)._id\n      }; // console.log(\"userAddLIkesWithoutSelect \", userAddLIkesWithoutSelect)\n      // console.log(\"author ne correspond pas\");\n\n      store.dispatch(addUserLike(userAddLIkesWithoutSelect));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleLike,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./icons/clap.png\",\n      className: \"clap\",\n      alt: \"clap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: post.likes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Like, \"Pm8ZCgkjh/j79c95CGNE0VsG+1U=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Like;\nexport default Like;\n\nvar _c;\n\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js"],"names":["React","useSelector","addLike","addUserLike","store","Like","props","post","users","state","userReducer","userChoice","choiceUser","handleLike","postData","likes","id","_id","dispatch","author","pseudo","userAddLIkes","userAddLIkesWithoutSelect","find","userFind"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,QAAwB,6BAAxB;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,SAASC,KAAT,QAAsB,UAAtB;;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AAAA;;AACtB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWD,KAAjB,CAFsB,CAGtB;;AAEA,QAAME,KAAK,GAAGP,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,KAA9B,CAAzB,CALsB,CAMtB;;AACA,QAAMG,UAAU,GAAGV,WAAW,CAAEQ,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBE,UAA9B,CAA9B,CAPsB,CAQtB;;AAEA,QAAMC,UAAU,GAAG,MAAM;AACvB,UAAMC,QAAQ,GAAG;AACf;AACA;AACA;AACAC,MAAAA,KAAK,EAAE,EAAER,IAAI,CAACQ,KAJC;AAKfC,MAAAA,EAAE,EAAET,IAAI,CAACU;AALM,KAAjB;AAQAb,IAAAA,KAAK,CAACc,QAAN,CAAehB,OAAO,CAACY,QAAD,CAAtB;;AAEA,QAAIP,IAAI,CAACY,MAAL,KAAgBR,UAAU,CAACS,MAA/B,EAAuC;AACrC,YAAMC,YAAY,GAAG;AACnB;AACA;AACAN,QAAAA,KAAK,EAAE,EAAEJ,UAAU,CAACI,KAHD;AAInBC,QAAAA,EAAE,EAAEL,UAAU,CAACM;AAJI,OAArB,CADqC,CAOrC;AACA;;AACAb,MAAAA,KAAK,CAACc,QAAN,CAAef,WAAW,CAACkB,YAAD,CAA1B;AAED,KAXD,MAYK;AACH,YAAMC,yBAAyB,GAAG;AAChC;AACA;AACAP,QAAAA,KAAK,EAAE,EAAEP,KAAK,CAACe,IAAN,CAAYC,QAAD,IAAcA,QAAQ,CAACJ,MAAT,KAAoBb,IAAI,CAACY,MAAlD,EAA0DJ,KAHnC;AAIhCC,QAAAA,EAAE,EAAER,KAAK,CAACe,IAAN,CAAYC,QAAD,IAAcA,QAAQ,CAACJ,MAAT,KAAoBb,IAAI,CAACY,MAAlD,EAA0DF;AAJ9B,OAAlC,CADG,CAQH;AACA;;AACAb,MAAAA,KAAK,CAACc,QAAN,CAAef,WAAW,CAACmB,yBAAD,CAA1B;AACD;AAEF,GApCD;;AAsCA,sBACE;AAAK,IAAA,OAAO,EAAET,UAAd;AAAA,4BACE;AAAK,MAAA,GAAG,EAAC,kBAAT;AAA4B,MAAA,SAAS,EAAC,MAAtC;AAA6C,MAAA,GAAG,EAAC;AAAjD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA,gBAAON,IAAI,CAACQ;AAAZ;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CAtDD;;GAAMV,I;UAKUJ,W,EAEKA,W;;;KAPfI,I;AAwDN,eAAeA,IAAf","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\"\n\nconst Like = (props) => {\n  // console.log(\"props \" ,props)\n  const { post } = props;\n  // console.log( \"post Component Like \" ,post);\n\n  const users = useSelector((state) => state.userReducer.users);\n  // console.log(\"user in like component\", users)\n  const userChoice = useSelector((state) => state.userReducer.choiceUser);\n  // console.log(\"userChoiceLike \", userChoice)\n\n  const handleLike = () => {\n    const postData = {\n      // title: post.title,\n      // author: post.author,\n      // content: post.content,\n      likes: ++post.likes,\n      id: post._id,\n    };\n\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userAddLIkes = {\n        // ages: userChoice.ages,\n        // pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }\n      // console.log(\"userData \", userData )\n      // console.log(\"author correspond\");\n      store.dispatch(addUserLike(userAddLIkes));\n\n    }\n    else {\n      const userAddLIkesWithoutSelect = {\n        // ages: users.find((userFind) => userFind.pseudo === post.author).ages,\n        // pseudo: users.find((userFind) => userFind.pseudo === post.author).pseudo,\n        likes: ++users.find((userFind) => userFind.pseudo === post.author).likes,\n        id: users.find((userFind) => userFind.pseudo === post.author)._id,\n      };\n\n      // console.log(\"userAddLIkesWithoutSelect \", userAddLIkesWithoutSelect)\n      // console.log(\"author ne correspond pas\");\n      store.dispatch(addUserLike(userAddLIkesWithoutSelect));\n    }\n\n  }\n\n  return (\n    <div onClick={handleLike}>\n      <img src=\"./icons/clap.png\" className=\"clap\" alt=\"clap\" />\n      <span>{post.likes}</span>\n    </div>\n  );\n};\n\nexport default Like;\n"]},"metadata":{},"sourceType":"module"}