{"ast":null,"code":"import axios from \"axios\";\n/*\n * Import types { ... }\n * ******************** */\n\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, EDIT_USER, GET_USERS } from \"./ActionTypes\";\nexport const getUser = () => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\").then(res => {\n      // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n      //dispatch veut dire va dans les reducers via index.js de reducers \n      // console.log(\"data.users getUser Action \",res.data.users)\n      const COucou = res.data.users.sort(function (a, b) {\n        return b.pseudo - a.pseudo;\n      });\n      dispatch({\n        type: GET_USERS,\n        payload: COucou\n      }); // console.log(\"Action User \" ,res.data.users)\n      // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUserLike = data => {\n  // console.log(\"addUserLike action form \",data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      // console.log(\"addUserLike \",res.data)\n      dispatch({\n        type: ADD_USER_LIKE,\n        payload: res.data.users\n      }); // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUser = data => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios.post(\"http://localhost:3003/api/users\", data).then(res => {\n      //    console.log(\"Res Add User \", res.data);\n      console.log(\"Res message \", res.data.message);\n      dispatch({\n        type: ADD_USER,\n        payload: res.data.data\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const editUsers = data => {\n  // console.log(\"Edit user\", data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      // console.log(\"userEdit Action \" ,res.data.users)\n      dispatch({\n        type: EDIT_USER,\n        payload: res.data.users\n      }); // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const choiceUser = data => {\n  // console.log(\"choiceUser\", data)\n  return dispatch => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data\n    });\n    return axios.get(\"http://localhost:3003/api/users\").then(res => {\n      // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n      //dispatch veut dire va dans les reducers via index.js de reducers \n      dispatch({\n        type: GET_USERS,\n        payload: res.data.users\n      }); // console.log(\"Action User \" ,res.data.users)\n      // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/store/actions/UserAction.js"],"names":["axios","ADD_USER","ADD_USER_LIKE","CHOICE_USER","EDIT_USER","GET_USERS","getUser","dispatch","get","then","res","COucou","data","users","sort","a","b","pseudo","type","payload","catch","err","console","log","addUserLike","method","url","id","addUser","post","message","editUsers","choiceUser"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n/*\n * Import types { ... }\n * ******************** */\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, EDIT_USER, GET_USERS } from \"./ActionTypes\";\n\n\nexport const getUser = () => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\")\n      .then((res) => {\n        // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n        //dispatch veut dire va dans les reducers via index.js de reducers \n        // console.log(\"data.users getUser Action \",res.data.users)\n        const COucou= res.data.users.sort(function (a, b) {\n          return b.pseudo - a.pseudo;\n      })\n        dispatch({\n          type: GET_USERS,\n          payload: COucou,\n        })\n        // console.log(\"Action User \" ,res.data.users)\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n}\nexport const addUserLike = (data) => {\n  // console.log(\"addUserLike action form \",data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data }\n    })\n      .then((res) => {\n        // console.log(\"addUserLike \",res.data)\n        dispatch({\n          type: ADD_USER_LIKE,\n          payload: res.data.users\n        })\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n\n}\nexport const addUser = (data) => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios\n      .post(\"http://localhost:3003/api/users\", data)\n      .then((res) => {\n        //    console.log(\"Res Add User \", res.data);\n        console.log(\"Res message \", res.data.message);\n        dispatch({\n          type: ADD_USER,\n          payload: res.data.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n};\nexport const editUsers = (data) => {\n  // console.log(\"Edit user\", data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data },\n    })\n      .then((res) => {\n        // console.log(\"userEdit Action \" ,res.data.users)\n        dispatch({\n          type: EDIT_USER,\n          payload: res.data.users,\n        });\n\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const choiceUser = (data) => {\n  // console.log(\"choiceUser\", data)\n  return (dispatch) => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data,\n    });\n\n    return axios.get(\"http://localhost:3003/api/users\")\n      .then((res) => {\n        // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n        //dispatch veut dire va dans les reducers via index.js de reducers \n        dispatch({\n          type: GET_USERS,\n          payload: res.data.users,\n        })\n        // console.log(\"Action User \" ,res.data.users)\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n\n  }\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}