{"ast":null,"code":"var _jsxFileName = \"/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Like = props => {\n  _s();\n\n  // console.log(\"props \" ,props)\n  const {\n    post\n  } = props; // console.log( \"post Component Like \" ,post);\n\n  const users = useSelector(state => state.userReducer.users); // console.log(\"user in like component\", users)\n\n  const userChoice = useSelector(state => state.userReducer.choiceUser); // console.log(\"userChoiceLike \", userChoice)\n\n  const handleLike = () => {\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id\n    };\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      };\n      console.log(\"userData \", userData);\n      console.log(\"author correspond\"); // store.dispatch(addUserLike(userData));\n    } else {\n      const userDataNone = {\n        ages: users.find(userFind => userFind.pseudo === post.author).ages,\n        pseudo: users.find(userFind => userFind.pseudo === post.author).pseudo,\n        likes: ++users.find(userFind => userFind.pseudo === post.author).likes,\n        id: users.find(userFind => userFind.pseudo === post.author)._id\n      };\n      console.log(\"userDataNone \", userDataNone);\n      console.log(\"author ne correspond pas\");\n      store.dispatch(addUserLike(userDataNone));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleLike,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./icons/clap.png\",\n      className: \"clap\",\n      alt: \"clap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: post.likes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Like, \"Pm8ZCgkjh/j79c95CGNE0VsG+1U=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Like;\nexport default Like;\n\nvar _c;\n\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js"],"names":["React","useSelector","addLike","addUserLike","store","Like","props","post","users","state","userReducer","userChoice","choiceUser","handleLike","postData","title","author","content","likes","id","_id","dispatch","pseudo","userData","ages","console","log","userDataNone","find","userFind"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\"\n\nconst Like = (props) => {\n  // console.log(\"props \" ,props)\n  const { post } = props;\n  // console.log( \"post Component Like \" ,post);\n\n  const users = useSelector((state) => state.userReducer.users);\n  // console.log(\"user in like component\", users)\n  const userChoice = useSelector((state) => state.userReducer.choiceUser);\n  // console.log(\"userChoiceLike \", userChoice)\n\n  const handleLike = () => {\n\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id,\n    };\n\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }\n      console.log(\"userData \", userData )\n      console.log(\"author correspond\");\n      // store.dispatch(addUserLike(userData));\n\n    }\n    else {\n\n      const userDataNone = {\n        ages: users.find((userFind) => userFind.pseudo === post.author).ages,\n        pseudo: users.find((userFind) => userFind.pseudo === post.author).pseudo,\n        likes: ++users.find((userFind) => userFind.pseudo === post.author).likes,\n        id: users.find((userFind) => userFind.pseudo === post.author)._id,\n      };\n\n      console.log(\"userDataNone \", userDataNone)\n      console.log(\"author ne correspond pas\");\n      store.dispatch(addUserLike(userDataNone));\n    }\n\n  }\n\n  return (\n    <div onClick={handleLike}>\n      <img src=\"./icons/clap.png\" className=\"clap\" alt=\"clap\" />\n      <span>{post.likes}</span>\n    </div>\n  );\n};\n\nexport default Like;\n"]},"metadata":{},"sourceType":"module"}