{"ast":null,"code":"import axios from \"axios\";\n/*\n * Import types { ... }\n * ******************** */\n\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, EDIT_USER, GET_USERS } from \"./ActionTypes\";\nexport const getUser = () => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\").then(res => {\n      // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n      //dispatch veut dire va dans les reducers via index.js de reducers \n      // console.log(\"data.users getUser Action \",res.data.users)\n      dispatch({\n        type: GET_USERS,\n        payload: res.data.users\n      }); // console.log(\"Action User \" ,res.data.users)\n      // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUserLike = data => {\n  // console.log(\"addUserLike action form \",data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      // console.log(\"addUserLike \",res.data)\n      dispatch({\n        type: ADD_USER_LIKE,\n        payload: res.data.users\n      }); // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const addUser = data => {\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios.post(\"http://localhost:3003/api/users\", data).then(res => {\n      //    console.log(\"Res Add User \", res.data);\n      console.log(\"Res message \", res.data.message);\n      dispatch({\n        type: ADD_USER,\n        payload: res.data.data\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const editUsers = data => {\n  // console.log(\"Edit user\", data)\n  return dispatch => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data\n      }\n    }).then(res => {\n      console.log(\"userEdit Action \", res.data.users, res.data.posts);\n      dispatch({\n        type: EDIT_USER,\n        payload: res.data.users,\n        payload: res.data.posts\n      }); // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};\nexport const choiceUser = data => {\n  // console.log(\"choiceUser\", data)\n  return dispatch => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data\n    });\n    return axios.get(\"http://localhost:3003/api/users\").then(res => {\n      // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n      //dispatch veut dire va dans les reducers via index.js de reducers \n      dispatch({\n        type: GET_USERS,\n        payload: res.data.users\n      }); // console.log(\"Action User \" ,res.data.users)\n      // si ne fonctionne pas alors console err\n    }).catch(err => console.log(err));\n  };\n};","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/store/actions/UserAction.js"],"names":["axios","ADD_USER","ADD_USER_LIKE","CHOICE_USER","EDIT_USER","GET_USERS","getUser","dispatch","get","then","res","type","payload","data","users","catch","err","console","log","addUserLike","method","url","id","addUser","post","message","editUsers","posts","choiceUser"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;;AACA,SAASC,QAAT,EAAmBC,aAAnB,EAAkCC,WAAlC,EAA+CC,SAA/C,EAA0DC,SAA1D,QAA2E,eAA3E;AAGA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3B,SAAQC,QAAD,IAAc;AACnB;AACA;AACA,WAAOP,KAAK,CAACQ,GAAN,CAAU,iCAAV,EACJC,IADI,CACEC,GAAD,IAAS;AACb;AACA;AACA;AACAH,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEN,SADC;AAEPO,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC;AAFX,OAAD,CAAR,CAJa,CAQb;AACA;AACD,KAXI,EAYJC,KAZI,CAYGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAZX,CAAP;AAaD,GAhBD;AAiBD,CAlBM;AAmBP,OAAO,MAAMG,WAAW,GAAIN,IAAD,IAAU;AACnC;AACA,SAAQN,QAAD,IAAc;AACnB;AACA;AACA,WAAOP,KAAK,CAAC;AACXoB,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,GAAG,EAAG,0CAAyCR,IAAI,CAACS,EAAG,EAF5C;AAGXT,MAAAA,IAAI,EAAE,EAAE,GAAGA;AAAL;AAHK,KAAD,CAAL,CAKJJ,IALI,CAKEC,GAAD,IAAS;AACb;AACAH,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAET,aADC;AAEPU,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC;AAFX,OAAD,CAAR,CAFa,CAMb;AACD,KAZI,EAaJC,KAbI,CAaGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAbX,CAAP;AAcD,GAjBD;AAmBD,CArBM;AAsBP,OAAO,MAAMO,OAAO,GAAIV,IAAD,IAAU;AAC/B,SAAQN,QAAD,IAAc;AACnB;AACA;AACA,WAAOP,KAAK,CACTwB,IADI,CACC,iCADD,EACoCX,IADpC,EAEJJ,IAFI,CAEEC,GAAD,IAAS;AACb;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BR,GAAG,CAACG,IAAJ,CAASY,OAArC;AACAlB,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEV,QADC;AAEPW,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASA;AAFX,OAAD,CAAR;AAID,KATI,EAUJE,KAVI,CAUGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVX,CAAP;AAWD,GAdD;AAeD,CAhBM;AAiBP,OAAO,MAAMU,SAAS,GAAIb,IAAD,IAAU;AACjC;AACA,SAAQN,QAAD,IAAc;AACnB;AACA;AACA,WAAOP,KAAK,CAAC;AACXoB,MAAAA,MAAM,EAAE,KADG;AAEXC,MAAAA,GAAG,EAAG,mCAAkCR,IAAI,CAACS,EAAG,EAFrC;AAGXT,MAAAA,IAAI,EAAE,EAAE,GAAGA;AAAL;AAHK,KAAD,CAAL,CAKJJ,IALI,CAKEC,GAAD,IAAS;AACbO,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCR,GAAG,CAACG,IAAJ,CAASC,KAAzC,EAAgDJ,GAAG,CAACG,IAAJ,CAASc,KAAzD;AACApB,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEP,SADC;AAEPQ,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC,KAFX;AAGPF,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASc;AAHX,OAAD,CAAR,CAFa,CAQb;AACD,KAdI,EAeJZ,KAfI,CAeGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAfX,CAAP;AAgBD,GAnBD;AAoBD,CAtBM;AAwBP,OAAO,MAAMY,UAAU,GAAIf,IAAD,IAAU;AAClC;AACA,SAAQN,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAAC;AACPI,MAAAA,IAAI,EAAER,WADC;AAEPS,MAAAA,OAAO,EAAEC;AAFF,KAAD,CAAR;AAKA,WAAOb,KAAK,CAACQ,GAAN,CAAU,iCAAV,EACJC,IADI,CACEC,GAAD,IAAS;AACb;AACA;AACAH,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEN,SADC;AAEPO,QAAAA,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC;AAFX,OAAD,CAAR,CAHa,CAOb;AACA;AACD,KAVI,EAWJC,KAXI,CAWGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAXX,CAAP;AAaD,GAnBD;AAoBD,CAtBM","sourcesContent":["import axios from \"axios\";\n\n/*\n * Import types { ... }\n * ******************** */\nimport { ADD_USER, ADD_USER_LIKE, CHOICE_USER, EDIT_USER, GET_USERS } from \"./ActionTypes\";\n\n\nexport const getUser = () => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données\n    // voir dans doc axios\n    return axios.get(\"http://localhost:3003/api/users\")\n      .then((res) => {\n        // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n        //dispatch veut dire va dans les reducers via index.js de reducers \n        // console.log(\"data.users getUser Action \",res.data.users)\n        dispatch({\n          type: GET_USERS,\n          payload: res.data.users,\n        })\n        // console.log(\"Action User \" ,res.data.users)\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n}\nexport const addUserLike = (data) => {\n  // console.log(\"addUserLike action form \",data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api//users/likes/${data.id}`,\n      data: { ...data }\n    })\n      .then((res) => {\n        // console.log(\"addUserLike \",res.data)\n        dispatch({\n          type: ADD_USER_LIKE,\n          payload: res.data.users\n        })\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n  }\n\n}\nexport const addUser = (data) => {\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios\n      .post(\"http://localhost:3003/api/users\", data)\n      .then((res) => {\n        //    console.log(\"Res Add User \", res.data);\n        console.log(\"Res message \", res.data.message);\n        dispatch({\n          type: ADD_USER,\n          payload: res.data.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n};\nexport const editUsers = (data) => {\n  // console.log(\"Edit user\", data)\n  return (dispatch) => {\n    // ici on recupere les data dans la bases de données et on le tri par ordre decroissant via l'id\n    // voir dans doc axios\n    return axios({\n      method: \"put\",\n      url: `http://localhost:3003/api/users/${data.id}`,\n      data: { ...data },\n    })\n      .then((res) => {\n        console.log(\"userEdit Action \" ,res.data.users ,res.data.posts)\n        dispatch({\n          type: EDIT_USER,\n          payload: res.data.users,\n          payload: res.data.posts,\n        });\n\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const choiceUser = (data) => {\n  // console.log(\"choiceUser\", data)\n  return (dispatch) => {\n    dispatch({\n      type: CHOICE_USER,\n      payload: data,\n    });\n\n    return axios.get(\"http://localhost:3003/api/users\")\n      .then((res) => {\n        // renvoi les data du type GET_USER pour notre exemple avec les data dans la reponse avec payload\n        //dispatch veut dire va dans les reducers via index.js de reducers \n        dispatch({\n          type: GET_USERS,\n          payload: res.data.users,\n        })\n        // console.log(\"Action User \" ,res.data.users)\n        // si ne fonctionne pas alors console err\n      })\n      .catch((err) => console.log(err))\n\n  }\n};\n\n\n\n"]},"metadata":{},"sourceType":"module"}