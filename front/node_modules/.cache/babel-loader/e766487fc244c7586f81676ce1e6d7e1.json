{"ast":null,"code":"var _jsxFileName = \"/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Like = props => {\n  _s();\n\n  // console.log(\"props \" ,props)\n  const {\n    post\n  } = props; // console.log( \"post Component Like \" ,post);\n  // console.log(\"userChoiceLike \", userChoice)\n  // console.log(post);\n\n  const user = useSelector(state => state.userReducer.users); // console.log(\"user in like component\", user)\n\n  const userChoice = useSelector(state => state.userReducer.choiceUser);\n\n  const handleLike = () => {\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id\n    };\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      };\n      console.log(\"userData \", userData);\n      console.log(\"author correspond\");\n      store.dispatch(addUserLike(userData));\n    } else {\n      const userDataNone = {\n        ages: user.find(userFind => userFind.pseudo === post.author).ages,\n        pseudo: user.find(userFind => userFind.pseudo === post.author).pseudo,\n        likes: ++user.find(userFind => userFind.pseudo === post.author).likes,\n        id: user.find(userFind => userFind.pseudo === post.author)._id\n      };\n      console.log(\"userDataNone \", userDataNone);\n      console.log(\"author ne correspond pas\"); // store.dispatch(addUserLike(userDataNone));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleLike,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"./icons/clap.png\",\n      className: \"clap\",\n      alt: \"clap\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: post.likes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Like, \"VtSowQnUv0IfxbSSU/HU04xyWu8=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Like;\nexport default Like;\n\nvar _c;\n\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"sources":["/home/wil/Documents/Dev/gh/liwza/formation_Cda/front/src/components/Like.js"],"names":["React","useSelector","addLike","addUserLike","store","Like","props","post","user","state","userReducer","users","userChoice","choiceUser","handleLike","postData","title","author","content","likes","id","_id","dispatch","pseudo","userData","ages","console","log","userDataNone","find","userFind"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addLike } from \"../store/actions/PostAction\";\nimport { addUserLike } from \"../store/actions/UserAction\";\nimport { store } from \"../store\"\n\nconst Like = (props) => {\n  // console.log(\"props \" ,props)\n  const { post } = props;\n  // console.log( \"post Component Like \" ,post);\n\n  // console.log(\"userChoiceLike \", userChoice)\n  // console.log(post);\n\n  const user = useSelector((state) => state.userReducer.users);\n  // console.log(\"user in like component\", user)\n  const userChoice = useSelector((state) => state.userReducer.choiceUser);\n\n  const handleLike = () => {\n\n    const postData = {\n      title: post.title,\n      author: post.author,\n      content: post.content,\n      likes: ++post.likes,\n      id: post._id,\n    };\n\n    store.dispatch(addLike(postData));\n\n    if (post.author === userChoice.pseudo) {\n      const userData = {\n        ages: userChoice.ages,\n        pseudo: userChoice.pseudo,\n        likes: ++userChoice.likes,\n        id: userChoice._id\n      }\n      console.log(\"userData \", userData )\n      console.log(\"author correspond\");\n      store.dispatch(addUserLike(userData));\n\n    }\n    else {\n\n      const userDataNone = {\n        ages: user.find((userFind) => userFind.pseudo === post.author).ages,\n        pseudo: user.find((userFind) => userFind.pseudo === post.author).pseudo,\n        likes: ++user.find((userFind) => userFind.pseudo === post.author).likes,\n        id: user.find((userFind) => userFind.pseudo === post.author)._id,\n      };\n\n      console.log(\"userDataNone \", userDataNone)\n      console.log(\"author ne correspond pas\");\n      // store.dispatch(addUserLike(userDataNone));\n    }\n\n  }\n\n  return (\n    <div onClick={handleLike}>\n      <img src=\"./icons/clap.png\" className=\"clap\" alt=\"clap\" />\n      <span>{post.likes}</span>\n    </div>\n  );\n};\n\nexport default Like;\n"]},"metadata":{},"sourceType":"module"}